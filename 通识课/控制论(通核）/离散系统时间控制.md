---
marp: true
paginate: true 
---
# 离散时间控制系统
## 简析计算机图形学中光栅化的采样过程
> 李瀚轩

---

# 目录
-  光栅化基础知识与背景
-  光栅化中的采样
-  采样的优化方法

---

# 基本概念
- 光栅(Raster):德语中的屏幕
- 光栅化(Rasterize)：把东西画在屏幕上的过程
- 光栅化是**三角形的离散化**
  
---
# 屏幕空间
- 把单位立方体映射到屏幕空间

![w:500](1.png)
- 此时得到的是屏幕空间的一个个三角形
  > Question:为什么是三角形？

---
# 三角形的优秀性质
- 三角形是最基础的多边形：可以把其他多边形打碎成三角形
- 三角形可以保证他在同一个平面内
- 可以简便判断点是否在三角形内（叉积）

![](2.png)

---
# 光栅化
> 把屏幕空间的一系列三角形打碎成一个个像素，并给每一个像素赋值
- 判断一个像素与三角形之间的关系：像素中心点与三角形的位置关系

# 采样
- **采样就是给定一个连续的函数，在不同的点求它的值**
 > 可以认为采样是把一个*连续的函数离散化*的过程
---
![bg left h:300 ](3.png)

- 如图所示，遍历整个屏幕像素，如果像素位于三角形内部，则进行采样
---
# 初步采样结果
![w:300 h:250](4.png)
## 发现问题
- 我们想要得到的是一个三角形，但是实际得到的不完完全是一个三角形，不过的它的形状和三角形大概类似，这就是我们所说的锯齿
- 原因
  - 像素的本身有一定的大小
  - **采样的速度跟不上信号变化的速度**（高频信号采样不足）
---
# 采样所产生的瑕疵
> 采样不仅可以发生在不同的位置，也可以发生在不同的时间
> 视频就是在时间中进行采样的

- 锯齿问题
![w:600](5.png)

---

- 摩尔纹
![](6.png)

---
- 车轮错觉
当我们顺时针旋转纸片时，有些条纹显得在逆时针选转
> 人眼在时间中的采样速度跟不上运动的速度
![](7.png)
---

# 反走样
- 在采样之前先做模糊处理再采样
  > 模糊可以认为是低通滤波器，把三角形边界的这种高频信号给过滤掉

- 为什么采样速度跟不上信号变化的速度就会产生走样问题？
- 为什么先模糊后采样就可以解决锯齿问题？
---


# 傅里叶变换
- 傅里叶变换可以将信号分解为频率，并且能将满足一定条件的某个函数表示成三角函数或者它们积分的线性组合
![](8.png)

---
如图所示，左图的人像是实域，右图是傅里叶变换后对应的频率。高通滤波器（High-pass filter）就是只保留高频信号（可以理解为图形内容中的细节，或者说边界-变化大的地方）；反过来如果把高频信号全部去除只保留低频信号，我们就会得到一张相对模糊的图。我们之前光栅化抗锯齿做的先模糊就是采用了低通滤波器（Low-pass filter），使其高频信号边界去除然后图形就会变得模糊。
![bg left w:700 h:600](15.png)

---
# 从频率的角度看采样
- 采样就是在重复频域上的内容

![](9.png)

---
- 密集采样（Dense sampling）是没有问题的，但是如果采样的数量很少，这就会导致频谱之间的距离减少，这就导致了原始的信号与我复制粘贴的信号产生了混叠（也就是走样）
  
![h:200](10.png)
模糊就是一个低通滤波先把高频的信息拿掉，这样做的原因就是让频谱覆盖的面小一些然后我们再以原本的间隔去采样它，这个时候我们发现它就不会产生信号重叠了
![h:200 w:600](11.png)

---
# 谢谢大家